{% if include.columns %}
    {% assign columns = include.columns %}
    {% if columns == '1' %}
        {% assign container_class = 'is-max-desktop' %}
    {% elsif columns == '2' %}
        {% assign container_class = 'is-max-widescreen' %}
    {% else %}
        {% assign container_class = '' %}
    {% endif %}
{% else %}
    {% assign columns = 3 %}
    {% assign container_class = '' %}
{% endif %}

<section class="section section-videos">
    <div class="container {{ container_class }}">

        {% if include.title %}
            <h2 class="title has-text-centered">{{ include.title }}</h2>
        {% endif %}

        {% if include.subtitle %}
            <p class="subtitle has-text-centered">{{ include.subtitle | escape }}</p>
        {% endif %}

        <div class="columns is-multiline is-variable is-{{ columns }} mt-6">
            {% for item in site.data.videos %}
                <div class="column">
                    <div class="card has-shadow-small has-hover-shadow-medium">
                        <a href="{{ item.url }}" class="is-overlay" data-lightbox="video" data-title="{{ item.title }}"></a>
                        <span class="icon is-large is-centered">
                            <i class="fas fa-play-circle fa-3x"></i>
                        </span>
                        <div class="card-content">
                            <h3 class="title is-4">{{ item.title }}</h3>
                            {% if item.desc %}
                                <p>{{ item.desc }}</p>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>

    </div>
</section>

<!-- Include Lightbox2 CSS and JavaScript for video lightbox functionality -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>

<style>
.has-shadow-small {
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
.has-hover-shadow-medium:hover {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}
.icon.is-centered {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
}
</style>
